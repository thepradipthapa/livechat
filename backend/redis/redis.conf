############################################
# Redis Production Configuration (Secure)
############################################

# Bind to all interfaces (safe within Docker)
bind 0.0.0.0
port 6379

# Disable the default user completely
user default off

# Create a secure ACL user for your app
# Syntax: user <username> on >password ~pattern +permissions
user admin on >admin123 ~* &* +@all

# Enable AOF (Append Only File) for durability
appendonly yes

# RDB snapshot save rules
save 900 1
save 300 10
save 60 10000

# Log file â€” leave empty to log to stdout (Docker best practice)
logfile ""

# Disable dangerous commands (protect data)
rename-command FLUSHALL ""
rename-command FLUSHDB ""

# Inside Docker we can safely disable protected mode
protected-mode no